# 스레드 안전성 수준을 문서화하라

## 질문

## 정리

- 스레드 안전성 수준
  1. 불변 : 해당 클래스는 상수와 같음. 즉 외부 동기화 필요 없음 
     - String, Long, BigInteger
  2. 무조건 스레드 안전
     - AtomicLong, ConcurrentHashMap
  3. 조건부 스레드 안전
     - Collections.synchronized 래퍼 메서드가 반환한 컬렉션들
     - 반환된 반복자들은 외부에서 동기화를 해줘야함.
  4. 스레드 안전하지 않음.
     - ArrayList, HashMap
     - 스레드에 안전하게 사용하려면, 클라이언트가 선택한 외부 동기화 메커니즘으로 감싸야한다.
  5. 스레드 적대적

- 락 필드는 항상 final로 선언하라
- 조건부 스레드 안전 클래스는 메서드를 어떤 순서로 호출할 때 외부 동기화가 요구되고, 그때 어떤 락을 얻어야 하는지 알려줘야한다. (문서화해야함)