# 옵셔널 반환은 신중히 하라



## 질문

- 컬렉션 스트림 배열 옵셔널 같은 컨테이너 타입을 또 옵셔널로 감싸면 안된다
  - 왜?
  - 이것 보다는 차라리 빈 컬렉션...들을 반환하는 게 낫다.
  - 이 중으로 처리하게 되니까.

## 정리

- 보통 `T` 를 반환해야 하지만, 특정 조건에서 아무것도 반환하지 않아야할 때 `T` 대신, `Optional<T>` 를 반환하도록 선언하면 된다.
- 옵셔널을 반환하는 메서드에서는 절대 Null을 반환하지 말자
- 스트림 종단 연산에서는 대부분 optional을 반환한다
- 옵셔널의 목적?
  - 사용자가에게 반환값이 없을수도 있음을 명확하게 알려준다!
- OptionalInt, OptionalLong, OptionalDouble
- 옵셔널을 컬렉션의 키 값으로 사용하지 말자
  - 코드 복잡도가 올라갈 가능성이 높다
- 옵셔널은 반환값 이외, 필드값으로 사용되는 경우는 드물다!