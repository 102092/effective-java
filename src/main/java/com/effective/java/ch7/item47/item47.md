# 반환 타입으로는 스트림보다 컬렉션이 낫다



## 질문

- Code 47-6, 47-7





## 정리

- Stream 인터페이스는 Iterable 인터페이스가 정의한 추상 메서드를 전부 포함할 뿐만 아니라, Iterable 인터페이스가 정의한 대로 동작한다.
  - 그럼에도 For-each로 스트림을 반복할 수 없음.
  - 왜?
  - Stream이 Iterable을 확장하지 않아서
- Collection 인터페이스는 Iterable의 하위타입, Stream 메서드도 제공.. 즉 반복 + 스트림을 동시에 지원
  - 그러므로 공개 API 반환에는 Collection이나 그 하위 타입을 주는 게 좋다.
- 우선 컬렉션 반환
  - 이미 반환전에 컬렉션에 담아 관리하고 있거나, 반환하려는 객체가 적다면 --> 표준 컬렉션(ArrayList) 에 담아 반환
  - 아니면 전용 컬렉션에 담아 반환
- 컬렉션으로 반환하는 게 불가능하다면..?
  - stream or iterable 중 자연스러운 것을 반환
  - 